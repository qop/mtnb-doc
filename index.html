<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>mtnb - MeiTuan Native Bridge</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="javascripts/contrib/jquery-2.1.4.min.js" type="text/javascript"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://code.dianpingoa.com/ed-f2e/mtnb' target="about:_blank;">项目地址</a></li>
            <li><a href='http://code.dianpingoa.com/ed-f2e/mtnb_h5_demo'>mtnb h5 demo</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="概述">概述</h1>

<p>MTNB(meituan native bridge)，是用来在混合应用开发中打通客户端应用（美团app，开店宝，猫眼等）与网页应用信道的桥梁。MTNB也作为美团移动桥协议在webapp中的命名空间存在。
<a href="http://wiki.sankuai.com/display/DEVPUB/Meituan+Native+Bridge">详细文档</a></p>

<h1 id="引入">引入</h1>

<p>使用MTNB需要通过BA认证，因此需要后端输出authInfo，前端使用authInfo鉴权，通过鉴权才可以使用jsbridge提供的功能。</p>

<h2 id="后端的工作">后端的工作</h2>

<p>后端需要给前端页面提供鉴权信息，点评环境-商家端(e.dianping.com)如需使用可以直接调用商家平台的服务，详情请咨询朱凯(kevin.zhu)。
<a href="http://wiki.sankuai.com/display/DEVPUB/mtnb-auth-server++API+v1">详细的API文档</a></p>

<h2 id="前端如何引入">前端如何引入</h2>
<pre class="highlight javascript"><code><span class="nx">require</span><span class="p">(</span><span class="s1">'mtnb'</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">MTNB</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
</code></pre>

<p><a href="http://code.dianpingoa.com/ed-f2e/mtnb">mtnb模块</a>目前仅支持通过Cortex通过CommonJS标准的方式引入。
点评侧对mtnb做了二次封装，提供了UI及storage的一些功能。</p>

<p>在下一个版本中会改为npm方式引入，到时候也会提供UI和storage相应的的js扩展包。</p>

<h1 id="初始化">初始化</h1>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">authInfo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"nonceStr"</span><span class="p">:</span><span class="s2">"qzpccxe1dgbhjjo"</span><span class="p">,</span>
    <span class="s2">"ts"</span><span class="p">:</span><span class="mi">1433347371266</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="p">:</span><span class="s2">"http://103.227.76.185/webview"</span><span class="p">,</span>          
    <span class="s2">"sign"</span><span class="p">:</span><span class="s2">"a7b8aafa2750515638179c13e1923cd336b47e04"</span>
<span class="p">};</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">MTNB</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">authInfo</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span><span class="c1">// native用这些参数请求签名验证接口进行验证。</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 鉴权成功</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// 鉴权失败</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>
</code></pre>

<aside class="warning">init方法必须在页面onload之后调用。</aside>

<aside class="warning">MTNB中所有和native相关的接口都需要在鉴权成功后使用。</aside>

<h1 id="webview模块">webview模块</h1>

<h2 id="关闭当前webview">关闭当前webview</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.close'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">anime</span><span class="p">:</span> <span class="s2">"slideleft"</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.init成功回调之后才可使用</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>anime</td>
<td>关闭时执行的动画，如果不传，按照打开的反向动画执行</td>
</tr>
</tbody></table>

<h2 id="打开新的webview">打开新的webview</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.open'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="s1">'http://i.meiutan.com/'</span><span class="p">,</span>
    <span class="na">anime</span><span class="p">:</span> <span class="s2">"slideleft"</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.init成功回调之后才可使用</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>url</td>
<td>打开的地址</td>
</tr>
<tr>
<td>string</td>
<td>anime</td>
<td>动画类型：swipeLeft, swipeRight 左右切换；fadeIn, fadeOut 淡入淡出</td>
</tr>
</tbody></table>

<h2 id="设置webview标题">设置webview标题</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setTitle'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="s2">"一个很长很长的标题"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 标题被点击后的操作...</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.init成功回调之后才可使用</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>function</td>
<td>callback</td>
<td>监听标题点击的回调</td>
</tr>
<tr>
<td>string</td>
<td>title</td>
<td>标题名称</td>
</tr>
</tbody></table>

<h2 id="设置复杂的webview标题">设置复杂的webview标题</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setHtmlTitle'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="s2">"&lt;font size="</span><span class="mi">4</span><span class="s2">" face="</span><span class="nx">arial</span><span class="s2">" color="</span><span class="nx">black</span><span class="s2">"&gt;演唱会 &lt;/font&gt;&lt;font size="</span><span class="mi">2</span><span class="s2">" color="</span><span class="nx">black</span><span class="s2">"&gt; 北京&lt;/font&gt;&lt;font size="</span><span class="mi">1</span><span class="s2">" color="</span><span class="nx">black</span><span class="s2">"&gt;▼&lt;/font&gt;"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 标题被点击后的操作...</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<aside class="warning">在MTNB.init成功回调之后才可使用</aside>

<aside class="warning">不支持换行</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>title</td>
<td>标题名称，使用font来实现</td>
</tr>
<tr>
<td>function</td>
<td>callback</td>
<td>监听标题点击的回调</td>
</tr>
</tbody></table>

<h2 id="设置角标">设置角标</h2>
<pre class="highlight javascript"><code><span class="c1">// 分享</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"share"</span><span class="p">,</span>
    <span class="na">channel</span><span class="p">:</span> <span class="mi">385</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span>
    <span class="na">pic</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'img'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'src'</span><span class="p">),</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 分享完成后的回调</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="c1">// 链接</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="na">text</span><span class="p">:</span> <span class="s2">"退款帮助"</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"i.meituan.com/help/refund"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 点击分享的回调</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="c1">// 回调</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="na">text</span><span class="p">:</span> <span class="s2">"设置提醒"</span><span class="p">,</span>
    <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 点击提醒的回调</span>
    <span class="p">},</span>
<span class="p">});</span>
<span class="c1">// 设置多个icon</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'webview.setIcon'</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">"设置提醒"</span><span class="p">,</span>
        <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// 交互</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">"收藏"</span><span class="p">,</span>
        <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// 交互</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre>

<aside class="warning">在MTNB.init成功回调之后才可使用</aside>

<table><thead>
<tr>
<th>type</th>
<th>name</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>object</td>
<td>data</td>
<td>附加数据，其中的callback为事件触发后的回调，参数是{}</td>
</tr>
<tr>
<td>string</td>
<td>type</td>
<td>icon类型，“text”文字，“share”分享</td>
</tr>
</tbody></table>

<h2 id="订制左上角按钮">订制左上角按钮</h2>
<pre class="highlight javascript"><code>    <span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">search</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">pare</span> <span class="o">=</span> <span class="nx">search</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'='</span><span class="p">);</span>
            <span class="nx">params</span><span class="p">[</span><span class="nx">pare</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">pare</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">});</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">params</span><span class="p">.</span><span class="nx">reloaded</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">params</span><span class="p">.</span><span class="nx">reloaded</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">queryArray</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">queryArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">k</span> <span class="o">+</span> <span class="s1">'='</span> <span class="o">+</span> <span class="nx">params</span><span class="p">[</span><span class="nx">k</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">+</span> <span class="s1">'//'</span> <span class="o">+</span> <span class="nx">location</span><span class="p">.</span><span class="nx">host</span> <span class="o">+</span> <span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">+</span> <span class="s1">'?'</span> <span class="o">+</span> <span class="nx">queryArray</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre>

<p>开店宝左上角按钮，请参考<a href="http://wiki.sankuai.com/pages/viewpage.action?pageId=372249318">此文档</a></p>

<p>因为android没有完全实现webview相关的接口，尤其是webview.open，所以推荐使用location.href的方式进行页面跳转。</p>

<p>开店宝webview有一个已知的bug是：webview打开页面A跳转页面B，再点返回直接关闭webview，针对此问题的解决方法是，页面加载完自动进行一次页面跳转，示例代码:</p>

<h1 id="ui模块">UI模块</h1>

<p>点评开发环境提供的js功能，通过extend方式挂在MTNB对象上。</p>

<p>只生成dom，样式需要额外依赖或者自己实现，如果是开店宝，我们提供了样式<a href="http://code.dianpingoa.com/ed-f2e/util-mtshop-m-less-demo/tree/master">开店宝基础样式组件</a>。</p>

<p>js功能不依赖于MTNB.init。</p>

<h2 id="alert">alert</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">alert</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">// 标题文字</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'message'</span><span class="p">,</span> <span class="c1">// 内容文字</span>
    <span class="na">button</span><span class="p">:</span> <span class="s1">'button'</span><span class="p">,</span> <span class="c1">// 按钮文字</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// 用户点击确认</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>弹出类似于window.alert的结构。
<aside class="success">不依赖于MTNB.init</aside>
<aside class="warning">样式需要额外依赖或者自己实现，开店宝请使用@dp/util-mtshop-m-less-demo</aside></p>

<h2 id="confirm">confirm</h2>
<pre class="highlight javascript"><code><span class="nx">DPMer</span><span class="p">.</span><span class="nx">confirm</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">// 标题文字</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'message'</span><span class="p">,</span> <span class="c1">// 内容文字</span>
    <span class="na">okButton</span><span class="p">:</span> <span class="s1">'OK'</span><span class="p">,</span> <span class="c1">// 确认按钮文字</span>
    <span class="na">cancelButton</span><span class="p">:</span> <span class="s1">'Cancel'</span><span class="p">,</span> <span class="c1">// 取消按钮文字</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 用户点击确认或取消</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ret</span><span class="p">)</span> <span class="p">{}</span> <span class="c1">// true: 确认 false: 取消</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>弹出类似于window.confirm的结构，有确定和取消的点击回调。
<aside class="success">不依赖于MTNB.init</aside>
<aside class="warning">样式需要额外依赖或者自己实现，开店宝请使用@dp/util-mtshop-m-less-demo</aside></p>

<h2 id="toast">toast</h2>
<pre class="highlight javascript"><code><span class="nx">DPMer</span><span class="p">.</span><span class="nx">toast</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">// 文字</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">2000</span> <span class="c1">// 持续时间</span>
<span class="p">});</span>
</code></pre>

<p>弹出一段简短的信息，一定时间后消失。
<aside class="success">不依赖于MTNB.init</aside>
<aside class="warning">样式需要额外依赖或者自己实现，开店宝请使用@dp/util-mtshop-m-less-demo</aside></p>

<h2 id="tooltip">tooltip</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">tooltip</span><span class="p">({</span>
    <span class="na">targetEl</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.level_func'</span><span class="p">),</span><span class="c1">// zepto object</span>
    <span class="na">placement</span><span class="p">:</span> <span class="s1">'right'</span><span class="p">,</span><span class="c1">// top/right/bottom/left</span>
    <span class="na">message</span><span class="p">:</span> <span class="s1">'请设置会员等级权益，否则&lt;br&gt;该会员卡无法正式启用'</span><span class="p">,</span> <span class="c1">//可以传入string或者html</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">3000</span> <span class="c1">// 3000ms后自动消失</span>
<span class="p">});</span>
</code></pre>

<p>带箭头的，在指定位置出现的，一定时间后自动消失的提示信息。
<aside class="success">不依赖于MTNB.init</aside>
<aside class="warning">样式需要额外依赖或者自己实现，开店宝请使用@dp/util-mtshop-m-less-demo</aside></p>

<h2 id="loading">loading</h2>

<p>todo</p>

<h1 id="storage模块">storage模块</h1>

<p>使用localStorage实现的异步存储模块。
<aside class="warning">使用前需要config bizname</aside></p>

<h2 id="store">store</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">bizname</span><span class="p">:</span> <span class="s1">'app-mtb-club'</span><span class="c1">// 通常使用包名</span>
<span class="p">});</span>
<span class="nx">DPMer</span><span class="p">.</span><span class="nx">store</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="s2">"key"</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s2">"value"</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// 存值成功</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>储值，value必须是字符串。
<aside class="warning">使用前需要先使用<code class="prettyprint">MTNB.config({bizname:“your-biz-name”});</code>进行配置</aside></p>

<h2 id="retrieve">retrieve</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">bizname</span><span class="p">:</span> <span class="s1">'app-mtb-club'</span><span class="c1">// 通常使用包名</span>
<span class="p">});</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="s1">'key'</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>取store的值。
<aside class="warning">使用前需要先使用<code class="prettyprint">MTNB.config({bizname:“your-biz-name”});</code>进行配置</aside></p>

<h2 id="del">del</h2>
<pre class="highlight javascript"><code><span class="nx">MTNB</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">bizname</span><span class="p">:</span> <span class="s1">'app-mtb-club'</span><span class="c1">// 通常使用包名</span>
<span class="p">});</span>
<span class="nx">MTNB</span><span class="p">.</span><span class="nx">del</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="s1">'key'</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// del success</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>删除store的值。
<aside class="warning">使用前需要先使用<code class="prettyprint">MTNB.config({bizname:“your-biz-name”});</code>进行配置</aside></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
